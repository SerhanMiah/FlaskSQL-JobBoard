{% extends "base.html" %}

{% block title %}
  My Applications
{% endblock %}

{% block content %}
<div class="container mt-4">
  <h2 class="text-center mb-4">My Applications</h2>
  <table class="table table-hover">
    <thead class="thead-dark">
      <tr>
        <th>Job Title</th>
        <th>Company</th>
        <th>Location</th>
        <th>Application Date</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      {% for application in applications %}
      <tr>
        <td>{{ application.job.title }}</td>
        <td>{{ application.job.company }}</td>
        <td>{{ application.job.location }}</td>
        <td>{{ application.date_applied.strftime('%b %d, %Y') }}</td>
        <td>
          <a href="{{ url_for('job_board.job_detail', job_id=application.job.id) }}" class="btn btn-sm btn-outline-secondary">View Job</a>
          <form action="{{ url_for('applicants.delete_application', application_id=application.id) }}" method="post" onsubmit="return confirm('Are you sure you want to delete this application?')">
            <button type="submit" class="btn btn-sm btn-outline-danger">Delete</button>
          </form>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
